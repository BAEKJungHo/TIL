# Firebase

파이어베이스는 구글(Google)이 소유하고 있는 모바일 애플리케이션 개발 플랫폼을 의미합니다.

만약 여러분이 파이어베이스의 데이터베이스 기능을 활용하고 있다면, 여러분은 일반적으로 클라이언트 앱에서 데이터베이스에 쿼리(query, 질문)를 전송하는 코드를 작성하게 됩니다.

> 예전에는 일반적으로 프론트엔드와 백엔드 양쪽 모두에서 쿼리를 작성해야만 했습니다. 프론트엔드의 코드는 백엔드의 API(응용프로그램 인터페이스)만을 호출할 뿐이며, 실제로 작업을 수행하는 것은 백엔드의 코드입니다. 하지만 ‘파이어베이스’를 이용하면 이러한 백엔드 쪽의 작업을 건너뛰고, 그 일을 클라이언트(단말) 쪽으로 넘길 수 있습니다. 이러한 관리자 기능은 ‘파이어베이스’의 콘솔(console, 입출력 도구) 창을 통해서 수행할 수 있습니다.  

파이어베이스의 실시간 데이터베이스(Realtime Database)와 클라우드 파이어스토어(Cloud Firestore)는 데이터베이스 서비스를 제공합니다. 저는 두 개의 제품 모두를 ‘클라우드에 호스팅 된 실시간의 비관계형(NoSQL) 데이터베이스’라고 적어 놓았습니다.

파이어스토어는 기술적으로 보자면 파이어베이스의 제품이 아닌 구글 클라우드(Google Cloud)의 제품이라는 점에 주목할 필요가 있습니다. 그런데 왜 파이어베이스와 함께 묶어서 설명을 하고 있을까요? 파이어베이스가 모바일 앱에서 파이어스토어를 사용할 수 있는 SDK를 제공하고 있기 때문입니다. 

이들 데이터베이스에서 정말로 특별한 점은 데이터베이스가 변경이 되었을 때 그 데이터들을 “실시간”으로 업데이트해준다는 것입니다. 우리는 클라이언트(단말) SDK를 사용해서 앱에서 사용하고자 하는 데이터가 있는 위치에 “리스너(listener, 요청을 받는 부분)”를 설정할 수 있습니다. 그러면 변경 사실이 감지될 때마다 리스너가 그 사실을 자동으로 알 수 있습니다. 따라서 관심을 두고 있는 데이터를 폴링(poll, 주기적으로 확인하는 것)할 필요 없이, 앱을 언제나 최신 상태로 보여줄 수 있습니다.

> 실시간 데이터베이스를 그냥 “파이어베이스”라고 부르기도 합니다. 하지만 정확하진 않습니다. 파이어베이스는 데이터베이스가 아니라 플랫폼입니다!

클라우드 스토리지(Cloud Storage)는 대규모로 확장할 수 있는 파일 스토리지를 제공합니다. 이것 역시 기술적으로는 파이어베이스가 아니라 구글 클라우드의 제품입니다. 파이어베이스용 클라우드 스토리지를 이용하면, 여러분의 앱에서 클라이언트 SDK를 사용해서 클라우드 스토리지의 “버킷(bucket)”에 파일을 직접 업로드하고 다운로드도 할 수 있습니다.

여러분의 앱에서 사용자의 개인 데이터를 저장하는 경우라면, 파이어베이스 인증을 활용해서 보안 규칙들을 만들고 액세스를 적절하게 제한하는 것이 좋습니다.

`클라우드 함수(Cloud Functions)`도 또 하나의 구글 클라우드 제품으로, 다른 파이어베이스 제품은 물론이고, 클라우드 제품들과도 원활하게 작동합니다. 클라우드 함수를 위한 파이어베이스의 SDK를 활용하면, 여러분은 구글의 “서버리스(serverless, 서버가 필요 없는 환경)” 인프라 위에서 실행되는 코드를 작성하고 배포할 수 있습니다. 구글의 서버리스 인프라는 파이어베이스의 다른 제품들로부터 발생하는 이벤트에 대해서 자동으로 응답합니다. 맞습니다, 그래서 서버리스입니다!

파이어베이스의 `클라우드 메시징(Cloud Messaging)`을 이용하면, 여러분의 앱을 사용하는 사람들이나 앱에서 무언가 흥미로운 일이 생겼을 때 푸시(push) 메시지를 전달할 수 있습니다. 메시지를 전송하는 방법은 두 가지가 있습니다. 첫째, 백엔드에 코드를 작성해 놓고 여러분의 앱이 응답하기를 원하는 업데이트 사항(예: 대화방 알림 등)이 있을 경우에 앱으로 메시지를 날리는 것입니다. 둘째, 파이어베이스의 콘솔에 메시지를 작성해서 사용자들이 관심 있는 정보를 그들에게 날려주는 것입니다. 제가 요즘에 관심 있는 것은 바로 두 번째로, 사용자에게 직접 메시지를 보내는 것입니다. 메시징 도구를 활용할 수 있다면, 이러한 앱들이 분석 및 예측 도구와 연동되어 있기 때문에, 분석 도구로 파악한 특정한 오디언스나 예측 도구로 파악한 특정한 사용자 그룹에게 메시지를 보낼 수 있습니다. 그렇게 된다면 좀 더 관심을 보이고 클릭할 확률이 높은 사용자들을 여러분의 앱 안에 머물게 하면서 그들을 위해서 작성한 메시지를 보낼 수 있기 때문에 아주 유용하다고 할 수 있습니다. 적절한 콘텐츠로 특정한 그룹을 목표로 하는 것이 무작정 모든 사람들에게 메시지를 터트리는 것보다 더 낫습니다. 왜 그런지는 상당히 명확합니다. 만약 어떤 사람이 자기와는 별로 관련도 없는 푸시 메시지를 지나치게 많이 받는다면, 아마 그 사람의 표정은 아래 사진과 같을 것입니다.

> 사용자들에게는 그들과 관련이 있고, 받아보고 싶어하는 메시지만 보내세요. 그것도 적당한 주기를 유지하는 것이 좋습니다.

파이어베이스 인앱 메시징(In-App Messaging)은 사용자들에게 맞춤화 된 타깃 메시지를 보여줘서 그들로 하여금 여러분이 만든 앱의 핵심 기능들을 사용해 볼 수 있도록 도와줍니다. 그럼 여러분은 궁금할 것입니다. “이게 클라우드 메시징과 뭐가 다른 거지?” (이렇게 물어 봐주셔서 감사합니다. 아직까지 주의 깊게 읽고 계셨군요!) 그 핵심적인 차이는 클라우드 메시징(FCM)의 메시지는 (파이어베이스 콘솔 등) 여러분이 제어하는 서버에서 오는 것이고, 인앱 메시징(FIAM)의 메시지는 앱 자체에서 온다는 것입니다(그러나 물론 콘솔에서 설정한 것입니다). 그리고 인앱 메시지는 사용자가 실제로 앱을 이용하는 동안 보이게 됩니다.

## Links

- [Firebase 란 1](https://blog.wishket.com/%ED%8C%8C%EC%9D%B4%EC%96%B4%EB%B2%A0%EC%9D%B4%EC%8A%A4firebase%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%B8%EA%B0%80-%ED%8C%8C%EC%9D%B4%EC%96%B4%EB%B2%A0%EC%9D%B4%EC%8A%A4-%EC%8B%AC%EC%B8%B5-%ED%83%90/)
- [Firebase 란 2](https://blog.wishket.com/%ED%8C%8C%EC%9D%B4%EC%96%B4%EB%B2%A0%EC%9D%B4%EC%8A%A4firebase%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%B8%EA%B0%80-%ED%8C%8C%EC%9D%B4%EC%96%B4%EB%B2%A0%EC%9D%B4%EC%8A%A4-%EC%8B%AC%EC%B8%B5-%ED%83%90-2/)
- [Firebase 란 3](https://blog.wishket.com/%ED%8C%8C%EC%9D%B4%EC%96%B4%EB%B2%A0%EC%9D%B4%EC%8A%A4firebase%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%B8%EA%B0%80-%ED%8C%8C%EC%9D%B4%EC%96%B4%EB%B2%A0%EC%9D%B4%EC%8A%A4-%EC%8B%AC%EC%B8%B5-%ED%83%90-3/)
