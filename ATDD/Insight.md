# Insight

![IMAGES](./images/tddcycle.png)

1. 시나리오 기반으로 실패하는 인수 테스트를 작성하고
2. Outside in TDD → 실패하는 단위 테스트를 작성하고 → 에러 메시지 확인 → 테스트 케이스를 통과하도록 프로덕션 코드를 구현하고 →  리팩토링
4. 최종적으로 TDD 성공을 확인한 다음 ATDD 가 성공하면 된다.

> ATDD 1주차에서는 인수 테스트를 연습하느라, 인수테스트 작성후 프로덕션 코드를 작성하였지만, 실제로 정석적인 방법은 다음과 같다.
> 
> 인수 테스트를 작성하고나서 → 인수테스트를 동작시키기 위해 컨트롤러가 필요하므로 컨트롤러를 먼저 만들고 → 실패하는 단위 테스트를 작성한 다음 → 에러 메시지를 확인하면서 → 프로덕션 코드를 구현해나가고 → TDD 성공을 확인한 다음 → ATDD 성공을 확인한다.

### OutSide In

- 패키지와 Controller(or Service or Request, Response) 클래스만(틀만)만들어두고 테스트 코드를 작성
- 도메인에 대한 이해도가 높지 않은 상태에서 진행이 가능
- 실패한 테스트를 먼저 작성 → 에러 메시지 확인 → 그 다음 해야할 것을 확인
- `컨트롤러 → 서비스 → 레포지토리 순`

### Inside Out

- 도메인 설계가 충분히 이루어진 다음 진행 가능
- 가장 큰 장점 : 프로덕션 코드에 덜 의존적인 테스트가 작성됨
- TDD 사이클을 이어나가기가 상대적으로 어려움
- 도메인 설계를 먼저 해야함 → Line 을 만들고 → Line 에 대한 단위테스트를 만들고 → 그 기능을 구현
- `도메인 → 서비스 → 컨트롤러 순`
