# static은 언제 사용할까?

> https://baekjungho.github.io/java-static/

`public static`으로 선언된 메서드들은 순수함수(부수효과가 없는 함수)이다. 즉, 메서드들이 순수함수인 경우 public static을 사용할 수 있다.

- 유틸리티 클래스로 작성되고, 변화를 가정하지 않는다.
- 메서드가 인스턴스 변수를 사용하지 않는다.
- 인스턴스 생성에 의존하지 않는다.
- 메서드가 공유되고 있다면, 정적 메소드로 추출해낼 수 있다.
- 메서드가 변화되지 않고, 오버라이딩 되지 않는다.

final static 으로 선언하면 적어도 1 바이트 이상의 GC 대상 객체가 사라지게 된다. 또한 JNDI 이름이나 간단한 코드성 데이터들을 static 으로 선언해 놓으면 편리하다. static 이 실행되는 시점은 클래스가 메모리상에 올라갈 때이다.(클래스 로딩 시에 멤버가 생성된다. 객체가 생성되기 전에 생성된다.)

## main 메서드가 static 인 이유

메인 클래스의 static 을 해석할 때는 static 을 사용하면 객체를 생성하지 않고 메소드를 호출할 수 있다는 점에 초점을 맞추면 됩니다. 메인 메소드 호출은 JVM 에서 호출되기 때문에 객체 생성없이 메모리에 할당시켜 호출 가능한 형태로 만들어야하기 때문입니다. cmd 창에서 java 메인클래스 메소드를 이용해 사용하면 JVM 은 메인 클래스의 객체를 생성하는 것이 아니라 클래스의 static 으로 선언된 메소드를 객체 생성없이 메모리에 할당시키고 할당된 메소드 중 "main으로 네이밍된 메소드를 찾아 호출하게 되는 것입니다. 그렇기 때문에 메인 메소드는 무조건 static 으로 정의되어 있어야하는 것입니다. 

## 장점

- static 을 사용하면 객체를 생성하지 않고 변수나 메서드에 접근하기 때문에 속도가 빠르다
- static 변수, static 메서드만으로 이루어진 클래스가 있다면, 그것은 인스턴스를 만들어 사용하는 클래스보다 훨씬 빠르게 작동할 수 있다.

## 단점

- static 변수들은 Method Area(Class Area, Code Area, Static Area) 에 생성되며, Static Area 는 가비지 컬렉션의 대상이 아니기 때문에, 메모리에서
지워지지 않습니다.
- 만약 지속적으로 해당 객체에 데이터가 쌓인다면, 더이상 GC가 되지 않으면서 시스템은 `OutOfMemoryError` 를 발생시킬 것입니다.
